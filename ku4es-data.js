!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).ku4es_ui_kernel={})}(this,(function(t){"use strict";function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e(this,t),this.$byteString=n}var r,i,o;return r=t,(i=[{key:"getByteAt",value:function(t){return this.$byteString.charCodeAt(t)}},{key:"getLength",value:function(){return this.$byteString.length}},{key:"getStringAt",value:function(t,e){return this.$byteString.substring(t,t+e)}},{key:"getShortAt",value:function(t,e){var n=this.$byteString,r=n.charCodeAt(t)||0,i=n.charCodeAt(t+1)||0;return e?(r<<8)+i:(i<<8)+r}},{key:"getLongAt",value:function(t,e){var n=this.$byteString,r=n.charCodeAt(t)||0,i=n.charCodeAt(t+1)||0,o=n.charCodeAt(t+2)||0,u=n.charCodeAt(t+3)||0,a=e?(((r<<8)+i<<8)+o<<8)+u:(((u<<8)+o<<8)+i<<8)+r;return a<0?a+4294967296:a}},{key:"getSLongAt",value:function(t,e){var n=this.getLongAt(t,e);return n>2147483647?n-4294967296:n}}])&&n(r.prototype,i),o&&n(r,o),t}(),i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(t){var e={exports:{}};return t(e,e.exports),e.exports}var u=function(t){return t&&t.Math==Math&&t},a=u("object"==typeof globalThis&&globalThis)||u("object"==typeof window&&window)||u("object"==typeof self&&self)||u("object"==typeof i&&i)||function(){return this}()||Function("return this")(),s=function(t){try{return!!t()}catch(t){return!0}},c=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),l={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,h={f:f&&!l.call({1:2},1)?function(t){var e=f(this,t);return!!e&&e.enumerable}:l},y=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},d={}.toString,g=function(t){return d.call(t).slice(8,-1)},v="".split,p=s((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==g(t)?v.call(t,""):Object(t)}:Object,m=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},S=function(t){return p(m(t))},b=function(t){return"object"==typeof t?null!==t:"function"==typeof t},k=function(t,e){if(!b(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!b(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!b(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!b(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},w={}.hasOwnProperty,_=function(t,e){return w.call(t,e)},A=a.document,x=b(A)&&b(A.createElement),P=!c&&!s((function(){return 7!=Object.defineProperty((t="div",x?A.createElement(t):{}),"a",{get:function(){return 7}}).a;var t})),O=Object.getOwnPropertyDescriptor,F={f:c?O:function(t,e){if(t=S(t),e=k(e,!0),P)try{return O(t,e)}catch(t){}if(_(t,e))return y(!h.f.call(t,e),t[e])}},D=function(t){if(!b(t))throw TypeError(String(t)+" is not an object");return t},N=Object.defineProperty,C={f:c?N:function(t,e,n){if(D(t),e=k(e,!0),D(n),P)try{return N(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},j=c?function(t,e,n){return C.f(t,e,y(1,n))}:function(t,e,n){return t[e]=n,t},E=function(t,e){try{j(a,t,e)}catch(n){a[t]=e}return e},M="__core-js_shared__",I=a[M]||E(M,{}),T=Function.toString;"function"!=typeof I.inspectSource&&(I.inspectSource=function(t){return T.call(t)});var B,L,R,G,$=I.inspectSource,z=a.WeakMap,Y="function"==typeof z&&/native code/.test($(z)),q=o((function(t){(t.exports=function(t,e){return I[t]||(I[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.2",mode:"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})})),W=0,U=Math.random(),V=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++W+U).toString(36)},Z=q("keys"),X={},H=a.WeakMap;if(Y){var K=I.state||(I.state=new H),J=K.get,Q=K.has,tt=K.set;B=function(t,e){return e.facade=t,tt.call(K,t,e),e},L=function(t){return J.call(K,t)||{}},R=function(t){return Q.call(K,t)}}else{var et=Z[G="state"]||(Z[G]=V(G));X[et]=!0,B=function(t,e){return e.facade=t,j(t,et,e),e},L=function(t){return _(t,et)?t[et]:{}},R=function(t){return _(t,et)}}var nt,rt,it={set:B,get:L,has:R,enforce:function(t){return R(t)?L(t):B(t,{})},getterFor:function(t){return function(e){var n;if(!b(e)||(n=L(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},ot=o((function(t){var e=it.get,n=it.enforce,r=String(String).split("String");(t.exports=function(t,e,i,o){var u,s=!!o&&!!o.unsafe,c=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof e||_(i,"name")||j(i,"name",e),(u=n(i)).source||(u.source=r.join("string"==typeof e?e:""))),t!==a?(s?!l&&t[e]&&(c=!0):delete t[e],c?t[e]=i:j(t,e,i)):c?t[e]=i:E(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||$(this)}))})),ut=a,at=function(t){return"function"==typeof t?t:void 0},st=function(t,e){return arguments.length<2?at(ut[t])||at(a[t]):ut[t]&&ut[t][e]||a[t]&&a[t][e]},ct=Math.ceil,lt=Math.floor,ft=function(t){return isNaN(t=+t)?0:(t>0?lt:ct)(t)},ht=Math.min,yt=function(t){return t>0?ht(ft(t),9007199254740991):0},dt=Math.max,gt=Math.min,vt=function(t){return function(e,n,r){var i,o=S(e),u=yt(o.length),a=function(t,e){var n=ft(t);return n<0?dt(n+e,0):gt(n,e)}(r,u);if(t&&n!=n){for(;u>a;)if((i=o[a++])!=i)return!0}else for(;u>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},pt={includes:vt(!0),indexOf:vt(!1)}.indexOf,mt=function(t,e){var n,r=S(t),i=0,o=[];for(n in r)!_(X,n)&&_(r,n)&&o.push(n);for(;e.length>i;)_(r,n=e[i++])&&(~pt(o,n)||o.push(n));return o},St=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],bt=St.concat("length","prototype"),kt={f:Object.getOwnPropertyNames||function(t){return mt(t,bt)}},wt={f:Object.getOwnPropertySymbols},_t=st("Reflect","ownKeys")||function(t){var e=kt.f(D(t)),n=wt.f;return n?e.concat(n(t)):e},At=function(t,e){for(var n=_t(e),r=C.f,i=F.f,o=0;o<n.length;o++){var u=n[o];_(t,u)||r(t,u,i(e,u))}},xt=/#|\.prototype\./,Pt=function(t,e){var n=Ft[Ot(t)];return n==Nt||n!=Dt&&("function"==typeof e?s(e):!!e)},Ot=Pt.normalize=function(t){return String(t).replace(xt,".").toLowerCase()},Ft=Pt.data={},Dt=Pt.NATIVE="N",Nt=Pt.POLYFILL="P",Ct=Pt,jt=F.f,Et=function(t,e){var n,r,i,o,u,s=t.target,c=t.global,l=t.stat;if(n=c?a:l?a[s]||E(s,{}):(a[s]||{}).prototype)for(r in e){if(o=e[r],i=t.noTargetGet?(u=jt(n,r))&&u.value:n[r],!Ct(c?r:s+(l?".":"#")+r,t.forced)&&void 0!==i){if(typeof o==typeof i)continue;At(o,i)}(t.sham||i&&i.sham)&&j(o,"sham",!0),ot(n,r,o,t)}},Mt=Array.isArray||function(t){return"Array"==g(t)},It=function(t){return Object(m(t))},Tt=function(t,e,n){var r=k(e);r in t?C.f(t,r,y(0,n)):t[r]=n},Bt=!!Object.getOwnPropertySymbols&&!s((function(){return!String(Symbol())})),Lt=Bt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Rt=q("wks"),Gt=a.Symbol,$t=Lt?Gt:Gt&&Gt.withoutSetter||V,zt=function(t){return _(Rt,t)||(Bt&&_(Gt,t)?Rt[t]=Gt[t]:Rt[t]=$t("Symbol."+t)),Rt[t]},Yt=zt("species"),qt=function(t,e){var n;return Mt(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!Mt(n.prototype)?b(n)&&null===(n=n[Yt])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Wt=st("navigator","userAgent")||"",Ut=a.process,Vt=Ut&&Ut.versions,Zt=Vt&&Vt.v8;Zt?rt=(nt=Zt.split("."))[0]+nt[1]:Wt&&(!(nt=Wt.match(/Edge\/(\d+)/))||nt[1]>=74)&&(nt=Wt.match(/Chrome\/(\d+)/))&&(rt=nt[1]);var Xt,Ht=rt&&+rt,Kt=zt("species"),Jt=zt("isConcatSpreadable"),Qt=9007199254740991,te="Maximum allowed index exceeded",ee=Ht>=51||!s((function(){var t=[];return t[Jt]=!1,t.concat()[0]!==t})),ne=(Xt="concat",Ht>=51||!s((function(){var t=[];return(t.constructor={})[Kt]=function(){return{foo:1}},1!==t[Xt](Boolean).foo}))),re=function(t){if(!b(t))return!1;var e=t[Jt];return void 0!==e?!!e:Mt(t)};Et({target:"Array",proto:!0,forced:!ee||!ne},{concat:function(t){var e,n,r,i,o,u=It(this),a=qt(u,0),s=0;for(e=-1,r=arguments.length;e<r;e++)if(re(o=-1===e?u:arguments[e])){if(s+(i=yt(o.length))>Qt)throw TypeError(te);for(n=0;n<i;n++,s++)n in o&&Tt(a,s,o[n])}else{if(s>=Qt)throw TypeError(te);Tt(a,s++,o)}return a.length=s,a}});var ie=Object.keys||function(t){return mt(t,St)},oe=Object.assign,ue=Object.defineProperty,ae=!oe||s((function(){if(c&&1!==oe({b:1},oe(ue({},"a",{enumerable:!0,get:function(){ue(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=oe({},t)[n]||ie(oe({},e)).join("")!=r}))?function(t,e){for(var n=It(t),r=arguments.length,i=1,o=wt.f,u=h.f;r>i;)for(var a,s=p(arguments[i++]),l=o?ie(s).concat(o(s)):ie(s),f=l.length,y=0;f>y;)a=l[y++],c&&!u.call(s,a)||(n[a]=s[a]);return n}:oe;Et({target:"Object",stat:!0,forced:Object.assign!==ae},{assign:ae});var se=o((function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e,n,r,i,o,u){try{var a=t[o](u),s=a.value}catch(t){return void n(t)}a.done?e(s):Promise.resolve(s).then(r,i)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=s(t);if(e){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],r=!0,i=!1,o=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(t,e)||function(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}Object.defineProperty(e,"__esModule",{value:!0});var d=function(){function t(){i(this,t)}return u(t,null,[{key:"isNull",value:function(t){return null===t}},{key:"isEmpty",value:function(e){return t.isString(e)&&""===e||t.isArray(e)&&e.length<1||t.isObjectLiteral(e)&&Object.keys(e).length<1}},{key:"isUndefined",value:function(t){return void 0===t}},{key:"isZero",value:function(t){return 0===t}},{key:"exists",value:function(e){return!(t.isUndefined(e)||t.isNull(e))}},{key:"isNullOrEmpty",value:function(e){return!t.exists(e)||t.isEmpty(e)}},{key:"isArray",value:function(t){return Array.isArray(t)}},{key:"isBool",value:function(t){return"boolean"==typeof t}},{key:"isTrue",value:function(e){return t.isBool(e)&&!0===e}},{key:"isFalse",value:function(e){return t.isBool(e)&&!1===e}},{key:"isDate",value:function(t){return t instanceof Date}},{key:"isNumber",value:function(t){return("number"==typeof t||t instanceof Number)&&!isNaN(t)}},{key:"isEven",value:function(t){return this.isNumber(t)&&!this.isZero(t)&&t%2==0}},{key:"isOdd",value:function(t){return this.isNumber(t)&&!this.isZero(t)&&!this.isEven(t)}},{key:"isString",value:function(t){return"string"==typeof t||t instanceof String}},{key:"isFunction",value:function(t){return t instanceof Function}},{key:"isAsyncFunction",value:function(e){try{return"AsyncFunction"===Object.getPrototypeOf(e).constructor.name||t.isFunction(e)&&/^async/.test(e.toString())||t.isFunction(e().then)}catch(e){return!1}}},{key:"isPromise",value:function(t){return t instanceof Promise}},{key:"isObject",value:function(e){return t.exists(e)&&"object"===n(e)&&!(t.isBool(e)||t.isNumber(e)||t.isDate(e)||t.isArray(e)||t.isString(e)||t.isFunction(e))}},{key:"isObjectLiteral",value:function(e){return t.isObject(e)&&e.constructor==={}.constructor}},{key:"isTruthy",value:function(e){return!t.isFalsy(e)}},{key:"isFalsy",value:function(e){return t.isZero(e)||t.isFalse(e)||t.isNullOrEmpty(e)||isNaN(e)}}]),t}();function g(){var t;return(t="").concat.apply(t,arguments)}function v(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce((function(t,e,n){return t.replace(new RegExp("\\{".concat(n,"\\}"),"g"),e&&e.toString?e.toString():e)}),t)}function p(t){return m(S(t))}function m(t){return d.exists(t)&&d.isFunction(t.replace)?t.replace(/^[\s\n]*/,""):t}function S(t){return d.exists(t)&&d.isFunction(t.replace)?t.replace(/[\s\n]*$/,""):t}var b,k,w,_=Object.freeze({__proto__:null,build:g,chunk:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!d.isString(t)||Number.isNaN(e)||e<0)return[];if(e<t.length){for(var n=0,r=e||t.length,i=[];n<t.length;)i.push(t.slice(n,n+r)),n+=r;return i}return[t]},format:v,trim:p,trimStart:m,trimEnd:S,capitalize:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(t||"").charAt(0).toUpperCase()+(t||"").slice(1).toLowerCase()},mask:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_";return d.isFunction(e)?e(t):d.isString(e)&&t.split("").reduce((function(t,e){return t.replace(new RegExp(n),e)}),e)},unmask:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_",r=new RegExp(n);return d.isFunction(e)?e(t):d.isString(e)&&t.split("").reduce((function(t,n,i){return!r.test(n)&&r.test(e.charAt(i))?t+n:t}),"")}}),A=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";i(this,t),this._first=e||"",this._middle=n||"",this._last=r||""}return u(t,[{key:"equals",value:function(t){return d.exists(t)&&t.first===this.first&&t.middle===this.middle&&t.last===this.last}},{key:"toString",value:function(t){var e=this.first.charAt(0),n=this.middle.charAt(0),r=this.last.charAt(0);return d.isNullOrEmpty(t)?this.full:t.replace(/([FfMmLl])/g,"{$1}").replace("{F}",this.first).replace("{M}",this.middle).replace("{L}",this.last).replace("{f}",e).replace("{m}",n).replace("{l}",r)}},{key:"first",get:function(){return this._first}},{key:"middle",get:function(){return this._middle}},{key:"last",get:function(){return this._last}},{key:"full",get:function(){var t=d.isNullOrEmpty(this.middle)?"F L":"F M L";return p(this.toString(t).replace(/\s+/," "))}},{key:"initials",get:function(){var t=d.isNullOrEmpty(this.middle)?"f.l.":"f.m.l.";return p(this.toString(t).replace(/\s{2,}/,""))}}]),t}(),x=function(){function t(e){i(this,t),this._list=e,this._head=0}return u(t,[{key:"isEmpty",get:function(){return this.length<1}},{key:"index",get:function(){return this._head}},{key:"length",get:function(){return this._list.length}},{key:"current",get:function(){return this._list[this._head]}},{key:"next",get:function(){var t=this.length,e=this._head;return this._head=e++<t-1?e:0,this.current}},{key:"prev",get:function(){var t=this.length,e=this._head;return this._head=--e<0?t-1:e,this.current}},{key:"peekNext",get:function(){var t=this._head,e=this.length;return this._list[t+1<e?t+1:0]}},{key:"peekPrev",get:function(){var t=this._head,e=this.length;return this._list[t-1<0?e-1:t-1]}}]),t}();function P(t,e){try{return t()}catch(t){return e}}P.async=(b=regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e();case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",n);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})),k=function(){var t=this,e=arguments;return new Promise((function(n,i){var o=b.apply(t,e);function u(t){r(o,n,i,u,a,"next",t)}function a(t){r(o,n,i,u,a,"throw",t)}u(void 0)}))},function(t,e){return k.apply(this,arguments)});var O=function(){function t(e,n,r){if(i(this,t),n<1||n>12)throw new Error("Invalid month at Assert.DayPoint");if(r<1||r>F(n,e))throw new Error("Invalid date at DayPoint");this._value=arguments.length>=3?new Date(e,n-1,r):new Date,this._day=this._value.getDay(),this._date=r,this._month=n,this._year=e}return u(t,[{key:"add",value:function(t,e,n){function r(t,e,n){for(var r=t,i=e;i--;)r=r[n];return r}var i=Math.abs,o=i(t),u=i(n),a=i(e),s=n<0?"prevDay":"nextDay",c=e<0?"prevMonth":"nextMonth";return r(r(r(this,o,t<0?"prevYear":"nextYear"),a,c),u,s)}},{key:"isBefore",value:function(t){return!(this.isAfter(t)||this.equals(t))}},{key:"isAfter",value:function(t){var e=this._year,n=t.year,r=this._month,i=t.month;return e>n||e===n&&r>i||e===n&&r===i&&this._date>t.date}},{key:"equals",value:function(t){return this._year===t.year&&this._month===t.month&&this._date===t.date}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mm/dd/yyyy",e=/y{3,}/i.test(t)?this._year:this.shortYear,n=this._month,r=this._date,i="{0}",o=/m{2}/i.test(t)&&n<10?"0{1}":"{1}",u=/d{2}/i.test(t)&&r<10?"0{2}":"{2}",a=t.replace(/y+/gi,i).replace(/m+/gi,o).replace(/d+/gi,u);return v(a,e,n,r)}},{key:"toDate",value:function(){return this._value}},{key:"toJson",value:function(){return this._value.toJSON()}},{key:"value",get:function(){return this._value}},{key:"day",get:function(){return this._day}},{key:"date",get:function(){return this._date}},{key:"month",get:function(){return this._month}},{key:"year",get:function(){return this._year}},{key:"shortYear",get:function(){var t=this._year.toString();return parseInt(t.substr(t.length-2))}},{key:"isWeekday",get:function(){var t=this._day;return t>0&&t<6}},{key:"isWeekend",get:function(){return!this.isWeekday}},{key:"isLeapYear",get:function(){return D(this._year)}},{key:"nextDay",get:function(){return N(this,1,0,0)}},{key:"prevDay",get:function(){return N(this,-1,0,0)}},{key:"nextMonth",get:function(){return N(this,0,1,0)}},{key:"prevMonth",get:function(){return N(this,0,-1,0)}},{key:"nextYear",get:function(){return N(this,0,0,1)}},{key:"prevYear",get:function(){return N(this,0,0,-1)}},{key:"firstDayOfMonth",get:function(){return new t(this._year,this._month,1)}},{key:"lastDayOfMonth",get:function(){return new t(this._year,this._month,F(this._month,this._year))}}],[{key:"canParse",value:function(e){return d.isString(e)||d.isNumber(e)||d.isDate(e)?!isNaN(new Date(e).valueOf()):e instanceof t}},{key:"parse",value:function(e){if(e instanceof t)return e;var n=d.isString(e)?p(e).replace(/T\d{2}:\d{2}:\d{2}(.\d+)?Z/,""):e;if(/^\d{4}-\d{1,2}-\d{1,2}$/.test(n)){var r=n.split("-"),i=h(r,1)[0];r.push(i),r.shift(),n=r.join("/")}var o=new Date(n);if(!d.exists(n)||Number.isNaN(o.valueOf()))throw new Error(v("Cannot parse value= {0}",n));return new t(o.getFullYear(),o.getMonth()+1,o.getDate())}},{key:"tryParse",value:function(e){return P((function(){return t.parse(e)}),null)}},{key:"assumeNow",value:function(e){w=t.parse(e)}},{key:"today",get:function(){return w||t.parse(new Date)}}]),t}();function F(t,e){return 2===t?D(e)?29:28:t<8&&d.isEven(t)||t>7&&d.isOdd(t)?30:31}function D(t){var e=t.toString().split(/\B/);return parseFloat(g(e[e.length-2],e[e.length-1]))%4==0}function N(t,e,n,r){var i=t.month,o=t.year,u=t.date,a=n,s=r,c=u+e,l=i+a,f=o+s;if(u+e>F(i,o)&&(c=1,l=i+a+1),u+e<1){var h=t.prevMonth;c=F(h.month,h.year),l=i+a-1}return l>12&&(l=1,f=o+s+1),l<1&&(l=12,f=o+s-1),new O(f,l,c)}function C(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.pow(10,-e);return Math.round(parseFloat((t*n).toFixed(Math.abs(e))))/n}function j(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=5*Math.pow(10,e-1);return C(t+n,e)}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===t)return 0;var n=5*Math.pow(10,e-1);return C(t-n,e)}function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t<0?j(t,e):E(t,e)}function I(t){return function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return 0<e?t(--e,r,n+r):n}(t)}function T(t){for(var e=0,n=1,r=0;t>1;)r=e,e=n,n+=r,t--;return t<1?e:n}function B(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=parseInt(t);return Number.isNaN(n)?e:n}var L=Object.freeze({__proto__:null,random:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.random()*(e-t)+t},round:C,roundUp:j,roundDown:E,roundTowardZero:M,gcd:function t(e,n){return 0===n?Math.abs(e):t(n,e%n)},fib:I,fib2:T,fibArray:function(t){return Array(t).fill(0).map((function(){return I(--t)})).reverse()},fib2Array:function(t){return Array(t).fill(0).map((function(){return T(--t)})).reverse()},tryParseInt:B,tryParseFloat:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=parseFloat(t);return Number.isNaN(n)?e:n}}),R=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;if(i(this,t),!d.isNumber(e))throw new Error("Money requires valid numeric amount.");var r=M(e);this._cents=/\./.test(e)?parseFloat(e.toString().replace(/\d+\./,".")):0,this._dollars=r,this._currency=n||"$",this._value=e}return u(t,[{key:"add",value:function(e){return G(this,e),new t(this.value+e.value,this.currency)}},{key:"subtract",value:function(e){return G(this,e),new t(this.value-e.value,this.currency)}},{key:"multiply",value:function(e){if(!d.isNumber(e))throw new Error("Invalid factor ".concat(e));return new t(this.value*e,this.currency)}},{key:"divide",value:function(e){if(!d.isNumber(e))throw new Error("Invalid divisor ".concat(e));return new t(this.value/e,this.currency)}},{key:"equals",value:function(t){return this.isOfCurrency(t)&&this.value===t.value}},{key:"isGreaterThan",value:function(t){return G(this,t),this.value>t.value}},{key:"isLessThan",value:function(t){return G(this,t),this.value<t.value}},{key:"round",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;return new t(C(this.value,e),this.currency)}},{key:"roundDown",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;return new t(E(this.value,e),this.currency)}},{key:"roundUp",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;return new t(j(this.value,e),this.currency)}},{key:"exchange",value:function(e,n){return new t(this.multiply(e).value,n)}},{key:"isOfCurrency",value:function(t){return this.currency===t.currency}},{key:"toString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"d.c2",e=arguments.length>1?arguments[1]:void 0,n=/d(.)c(\d+)/.exec(t),r=h(n,3),i=r[1],o=r[2],u=e||{".":",",",":"."}[i],a=$(this.dollars,u||","),s=z(this.cents,B(o,2)),c="".concat(this.currency).concat(a).concat(i).concat(s);return this.value<0?"(".concat(c,")"):c}},{key:"cents",get:function(){return this._cents}},{key:"dollars",get:function(){return this._dollars}},{key:"currency",get:function(){return this._currency}},{key:"value",get:function(){return this._value}},{key:"nearestWhole",get:function(){return new t(C(this.value,0),this.currency)}},{key:"nearestDollar",get:function(){return this.nearestWhole}}],[{key:"zero",value:function(e){return new t(0,e)}},{key:"isMoney",value:function(e){return e instanceof t}},{key:"canParse",value:function(e){try{return t.parse(e),!0}catch(t){return!1}}},{key:"parse",value:function(e){if(d.isNumber(e))return new t(e);var n=e;if(/,\d{2}$/.test(e)){var r=e.split(","),i=r.pop(),o=r.join().replace(/\./g,",");n="".concat(o,".").concat(i)}var u=/(\(.*\))|(-)/.test(n),a=u?1:0,s=n.match(/[^\d.,-]/g),c=d.isArray(s)?s[a]:null,l=parseFloat(n.replace(/[^\d.]/g,""));return new t(u?-l:l,c)}},{key:"tryParse",value:function(e){return P((function(){return t.parse(e)}),null)}}]),t}();function G(t,e){if(!t.isOfCurrency(e))throw new Error("Invalid operation on non-conforming currencies. ".concat(t.currency," !== ").concat(e.currency))}function $(t,e){if(0===t)return"0";var n=t.toString().replace(/[^\d]/,"").split(/\B/),r=0;return n.reverse().reduce((function(t,n){return r>0&&!(r%3)&&(t.push(e),r=0),t.push(n),r++,t}),[]).reverse().join("").replace(/[^\d]$/,"")}function z(t,e){var n=t.toString().replace(/[^\d]|0\./g,""),r="0".repeat(e);return"".concat(n).concat(r).slice(0,e)}var Y=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(i(this,t),!d.isNumber(e)||!d.isNumber(n))throw new Error("Coord requires numeric x and y values");this._x=e,this._y=n}return u(t,[{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y}},{key:"add",value:function(e){return new t(this.x+e.x,this.y+e.y)}},{key:"subtract",value:function(e){return new t(this.x-e.x,this.y-e.y)}},{key:"multiply",value:function(e){return new t(this.x*e.x,this.y*e.y)}},{key:"divide",value:function(e){return new t(this.x/e.x,this.y/e.y)}},{key:"round",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new t(C(this.x,e),C(this.y,e))}},{key:"toString",value:function(){return"(".concat(this.x,",").concat(this.y,")")}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"value",get:function(){return{x:this.x,y:this.y}}},{key:"half",get:function(){return this.divide(new t(2,2))}},{key:"abs",get:function(){return new t(Math.abs(this.x),Math.abs(this.y))}}],[{key:"canParse",value:function(e){return d.isArray(e)?!(Number.isNaN(e[0])||Number.isNaN(e[1])):d.isObjectLiteral(e)&&"x"in e&&"y"in e?!(Number.isNaN(e.x)||Number.isNaN(e.y)):e instanceof t}},{key:"parse",value:function(e){return d.exists(e)?e instanceof t?e:d.isArray(e)?new t(e[0],e[1]):d.isObjectLiteral(e)&&d.exists(e.x)&&d.exists(e.y)?new t(e.x,e.y):null:null}},{key:"tryParse",value:function(e){return P((function(){return t.parse(e)}),null)}}]),t}(),q=function(t){a(n,Y);var e=f(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return i(this,n),(t=e.call(this,r,o))._lengthSquared=Math.pow(r,2)+Math.pow(o,2),t._magnitude=Math.sqrt(t._lengthSquared),t._unitNormalX=0===r&&0===o?0:r/t._magnitude,t._unitNormalY=0===r&&0===o?0:o/t._magnitude,t}return u(n,[{key:"equals",value:function(t){return t instanceof n&&this.x===t.x&&this.y===t.y}},{key:"add",value:function(t){return t instanceof n?new n(this.x+t.x,this.y+t.y):null}},{key:"dot",value:function(t){return t instanceof n?this.x*t.x+this.y*t.y:null}},{key:"perpendicularAtTo",value:function(t){if(!(t instanceof n))return null;var e=t.add(this.projectionOfOnto(t).invert);return new n(e.x,e.y)}},{key:"projectionOfOnto",value:function(t){if(!(t instanceof n))return null;var e=t.normal.scale(this.dot(t.normal));return new n(e.x,e.y)}},{key:"scale",value:function(t){return new n(this.x*t,this.y*t)}},{key:"unitNormalDot",value:function(t){return t instanceof n?this.normal.x*t.normal.x+this.normal.y*t.normal.y:null}},{key:"reflect",value:function(t){if(!(t instanceof n))return null;if(t.isZero)return this;var e=t.normal;return this.add(e.scale(2*e.dot(this)).invert)}},{key:"round",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new n(C(this.x,t),C(this.y,t))}},{key:"magnitude",get:function(){return this._magnitude}},{key:"isZero",get:function(){return 0===this.x&&0===this.y}},{key:"normal",get:function(){return new n(this._unitNormalX,this._unitNormalY)}},{key:"invert",get:function(){return new n(-this.x,-this.y)}},{key:"norm",get:function(){return new n(Math.abs(this.x),Math.abs(this.y))}},{key:"perpendicular",get:function(){return new n(-this.y,this.x)}}]),n}(),W=function(t){a(n,Y);var e=f(n);function n(t,r){return i(this,n),e.call(this,t,r)}return u(n,[{key:"isAbove",value:function(t){return this.y<t.y}},{key:"isBelow",value:function(t){return this.y>t.y}},{key:"isLeftOf",value:function(t){return this.x<t.x}},{key:"isRightOf",value:function(t){return this.x>t.x}},{key:"distanceFrom",value:function(t){return new q(this.x-t.x,this.y-t.y)}},{key:"distanceTo",value:function(t){return this.distanceFrom(t).invert}}],[{key:"canParse",value:function(t){return t instanceof n||Y.canParse(t)}},{key:"parse",value:function(t){if(t instanceof n)return t;var e=Y.parse(t);return new n(e.x,e.y)}},{key:"tryParse",value:function(t){return P((function(){return n.parse(t)}),null)}}]),n}(),U=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i(this,t),this.origin=new W(e,n),this.dimensions=new Y(r,o),this.diagonal=W.parse(this.origin.add(this.dimensions)),this.center=this.diagonal.half}return u(t,[{key:"contains",value:function(t){return this.origin.isAbove(t)&&this.origin.isLeftOf(t)&&this.diagonal.isRightOf(t)&&this.diagonal.isBelow(t)}},{key:"aspectToFit",value:function(e){var n=this.dimensions,r=e.dimensions,i=r.x,o=r.y,u=n.x,a=n.y;return u>a&&0!==u?(a*=i/u,u=i,a>o&&(u*=(a=o)/n.y)):a>o&&(u*=o/a,a=o),new t(this.origin.x,this.origin.y,u,a)}}]),t}();function V(){return Math.random().toString().substr(2)}function Z(){return function t(e){return e?(e^16*Math.random()>>e/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}var X=Object.freeze({__proto__:null,uid:V,uuid:Z,suid:function(){return Symbol(V())},suuid:function(){return Symbol(Z())}}),H=function(){function t(){if(i(this,t),this.constructor===t)throw new Error("Cannot instantiate abstract class: AbstractSpecification")}return u(t,[{key:"and",value:function(t){return new K(this,t)}},{key:"or",value:function(t){return new J(this,t)}},{key:"xor",value:function(t){return new Q(this,t)}},{key:"not",value:function(t){return new tt(this,t)}},{key:"isSatisfiedBy",value:function(){throw new Error("Abstract method must be implemented.")}}]),t}(),K=function(t){a(n,H);var e=f(n);function n(t,r){var o;return i(this,n),(o=e.call(this))._specificationA=t,o._specificationB=r,o}return u(n,[{key:"isSatisfiedBy",value:function(t){return this._specificationA.isSatisfiedBy(t)&&this._specificationB.isSatisfiedBy(t)}}]),n}(),J=function(t){a(n,H);var e=f(n);function n(t,r){var o;return i(this,n),(o=e.call(this))._specificationA=t,o._specificationB=r,o}return u(n,[{key:"isSatisfiedBy",value:function(t){return this._specificationA.isSatisfiedBy(t)||this._specificationB.isSatisfiedBy(t)}}]),n}(),Q=function(t){a(n,H);var e=f(n);function n(t,r){var o;return i(this,n),(o=e.call(this))._specificationA=t,o._specificationB=r,o}return u(n,[{key:"isSatisfiedBy",value:function(t){return!this._specificationA.isSatisfiedBy(t)!=!this._specificationB.isSatisfiedBy(t)}}]),n}(),tt=function(t){a(n,H);var e=f(n);function n(t){var r;return i(this,n),(r=e.call(this))._specification=t,r}return u(n,[{key:"isSatisfiedBy",value:function(t){return!this._specification.isSatisfiedBy(t)}}]),n}(),et=(function(t){a(n,H);var e=f(n);function n(){return i(this,n),e.apply(this,arguments)}u(n,[{key:"isSatisfiedBy",value:function(){return!0}}])}(),function(t){a(n,H);var e=f(n);function n(){return i(this,n),e.apply(this,arguments)}u(n,[{key:"isSatisfiedBy",value:function(){return!1}}])}(),function(){function t(){if(i(this,t),this.constructor===t)throw new Error("Cannot instantiate abstract class.")}return u(t,[{key:"execute",value:function(){throw new Error("Abstract method must be implemented.")}}]),t}()),nt=Object.freeze({__proto__:null,pattern:function(t){return t.toString().replace(/(^\/)|(\/$)/g,"").replace(/\\/g,"\\")},escape:function(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},alpha:/^[A-z]+$/,alphaNumeric:/^[A-z0-9]+$/,base64:/^[A-z0-9=]+$/,dataUrl:/^\s*data:([a-z]+\/[a-z0-9+-]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=._~:@/?%\s-]*\s*$/i,email:/^\w+([.\w-]+)?@\w+([.\w-]+)?\.[A-Za-z0-9]{2,}$/,empty:/^$/,numeric:/^-?[0-9]+$/,script:/(<script[A-z0-9\n\s\t\r.={([\])}'",;!&|$/#:<>*?+\u0000-\u0037\u00C2\u00A0\u2122-]*?<\/script>)/,uid:/^\d{14,}$/i,url:/^(https?:\/\/)?[^{}\\:]+\.[A-z0-9]{2,12}(\/[^?\s]+)*\/?(\?([^=?#]+=[^=?#]*(&[^=?#]+=[^=?#]*)*(#.*)?)?)?$/,uuid:/^[{(]?[0-9A-F]{8}[-]?([0-9A-F]{4}[-]?){3}[0-9A-F]{12}[)}]?$/i}),rt=function(){function t(e){i(this,t),this._milliseconds=e}return u(t,[{key:"onInterval",value:function(t){return this.clear(),this._didInterval=t,this}},{key:"start",value:function(){var t=this;return this.clear(),this._intervalId=setInterval((function(){t._didInterval()}),this._milliseconds),this}},{key:"clear",value:function(){return clearInterval(this._intervalId),this._intervalId=null,this}},{key:"isRunning",get:function(){return d.exists(this._intervalId)}}]),t}(),it=function(){function t(e){i(this,t),this._milliseconds=e}return u(t,[{key:"onTimeout",value:function(t){return this.clear(),this._didTimeout=t,this}},{key:"start",value:function(){var t=this;return this.clear(),this._timeoutId=setTimeout((function(){t._didTimeout()}),this._milliseconds),this}},{key:"clear",value:function(){return clearTimeout(this._timeoutId),this._timeoutId=null,this}},{key:"isRunning",get:function(){return d.exists(this._timeoutId)}}]),t}();e.AbstractSpecification=H,e.AbstractStrategy=et,e.Assert=d,e.Coord=Y,e.DayPoint=O,e.Interval=rt,e.Money=R,e.Name=A,e.Point=W,e.Rectangle=U,e.Rolodex=x,e.Timeout=it,e.Vector=q,e.debounce=function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];var a=r&&!n,s=function(){n=null,r||t.apply(void 0,o)};clearTimeout(n),n=setTimeout(s,e),a&&t.apply(void 0,o)}},e.deduplicate=function(t){return t.reduce((function(t,e){return t.includes(e)||t.push(e),t}),[])},e.feature=function(t,e){return d.isPromise(t)||d.isAsyncFunction(t)?d.isFunction(t.then)?t.then((function(t){return t&&e()})):t().then((function(t){return t&&e()})):d.isFunction(t)&&t?t()&&e():d.isTrue(t)&&e()},e.identity=X,e.math=L,e.nextTick=function(t){return setTimeout(t,0)},e.opt=P,e.regex=nt,e.string=_,e.wait=function(t){return new Promise((function(e){return setTimeout(e,t)}))}})),ce={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},le={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},fe={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},he={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"};function ye(t,e){if(!function(t,e){return"Exif"===t.getStringAt(e,4)}(t,e))return{};var n=e+6,r=19789===t.getShortAt(n),i=function(t,e,n){return function(t,e,n){return 42===t.getShortAt(e+2,n)||8===t.getLongAt(e+4,n)}(t,e,n)?de(t,e,e+8,he,n):{}}(t,n,r),o=function(t,e,n,r){if(!se.Assert.exists(n))return{};var i=de(t,e,e+n,ce,r),o={};for(var u in i)if(Object.prototype.hasOwnProperty.call(i,u)){var a=i[u];if(!se.Assert.exists(a))continue;switch(u){case"FileSource":i[u]=fe[u][a];break;case"FlashpixVersion":i[u]=String.fromCharCode(a[0],a[1],a[2],a[3]);break;case"ComponentsConfiguration":var s=fe.Components;i[u]=s[a[0]]+s[a[1]]+s[a[2]]+s[a[3]]}o[u]=i[u]}return o}(t,n,i.ExifIFDPointer,r),u=function(t,e,n,r){if(!se.Assert.exists(n))return{};var i=de(t,e,e+n,le,r),o={};for(var u in i)if(Object.prototype.hasOwnProperty.call(i,u)){var a=i[u];if(!se.Assert.exists(a))continue;switch(u){case"GPSVersionID":i[u]="".concat(a[0],".").concat(a[1],".").concat(a[2],".").concat(a[3])}o[u]=i[u]}return o}(t,n,i.GPSInfoIFDPointer,r);return Object.assign({},i,o,u)}function de(t,e,n,r,i){for(var o,u=t.getShortAt(n,i),a={},s=0;s<u;s++)o=n+12*s+2,a[r[t.getShortAt(o,i)]||"UNDEF_Proprietary_data_".concat(n,"_").concat(s)]=ge(t,o,e,n,i);return a}function ge(t,e,n,r,i){var o,u,a,s,c,l=t.getShortAt(e+2,i),f=t.getLongAt(e+4,i),h=t.getLongAt(e+8,i)+n;switch(l){case 2:return o=f>4?h:e+8,t.getStringAt(o,f-1);case 3:if(1===f)return t.getShortAt(e+8,i);for(o=f>2?h:e+8,s=[],c=0;c<f;c++)s[c]=t.getShortAt(o+2*c,i);return s;case 4:if(1===f)return t.getLongAt(e+8,i);for(s=[],c=0;c<f;c++)s[c]=t.getLongAt(h+4*c,i);return s;case 5:if(1===f)return(u=t.getLongAt(h,i))/(a=t.getLongAt(h+4,i));for(s=[],c=0;c<f;c++)u=t.getLongAt(h+8*c,i),a=t.getLongAt(h+4+8*c,i),s[c]=u/a;return s;case 7:if(1===f)return t.getByteAt(e+8,i);for(o=f>4?h:e+8,s=[],c=0;c<f;c++)s[c]=t.getByteAt(o+c);return s;case 9:if(1===f)return t.getSLongAt(e+8,i);for(s=[],c=0;c<f;c++)s[c]=t.getSLongAt(h+4*c,i);return s;case 10:if(1===f)return t.getSLongAt(h,i)/t.getSLongAt(h+4,i);for(s=[],c=0;c<f;c++)s[c]=t.getSLongAt(h+8*c,i)/t.getSLongAt(h+4+8*c,i);return s;default:return null}}function ve(t,e){return 255===t.getByteAt(e)}function pe(t){return 225===t}var me={__INVALID_FILE__:"Cannot read EXIF data."};t.BinaryFile=r,t.readExif=function(t){if(!(t instanceof r))throw new Error("EXIF can only read a valid BinaryFile.");try{return function(t){return se.Assert.exists(t)&&255===t.getByteAt(0)&&216===t.getByteAt(1)}(t)?function(t){for(var e=t.getLength(),n=2;n<e;){var r=n+4,i=t.getShortAt(n+2,!0)+2;if(ve(t,n)&&pe(t.getByteAt(n+1)))return ye(t,r);n+=i}}(t)||me:(function(t){se.Assert.exists(t)&&137===t.getByteAt(0)&&80===t.getByteAt(1)&&78===t.getByteAt(2)&&71===t.getByteAt(3)&&13===t.getByteAt(4)&&10===t.getByteAt(5)&&26===t.getByteAt(6)&&t.getByteAt(7)}(t),me)}catch(t){return console.error(t),me}},Object.defineProperty(t,"__esModule",{value:!0})}));
