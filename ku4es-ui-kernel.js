!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ku4es_ui_kernel={})}(this,(function(exports){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function createCommonjsModule(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return commonjsRequire(e,null==t?n.path:t)}},n.exports),n.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var dist=createCommonjsModule((function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function e(){r(this,e)}return o(e,null,[{key:"isNull",value:function(e){return null===e}},{key:"isEmpty",value:function(t){return e.isString(t)&&""===t||e.isArray(t)&&t.length<1||e.isObjectLiteral(t)&&Object.keys(t).length<1}},{key:"isUndefined",value:function(e){return void 0===e}},{key:"isZero",value:function(e){return 0===e}},{key:"exists",value:function(t){return!(e.isUndefined(t)||e.isNull(t))}},{key:"isNullOrEmpty",value:function(t){return!e.exists(t)||e.isEmpty(t)}},{key:"isArray",value:function(e){return Array.isArray(e)}},{key:"isBool",value:function(e){return"boolean"==typeof e}},{key:"isTrue",value:function(t){return e.isBool(t)&&!0===t}},{key:"isFalse",value:function(t){return e.isBool(t)&&!1===t}},{key:"isDate",value:function(e){return e instanceof Date}},{key:"isNumber",value:function(e){return("number"==typeof e||e instanceof Number)&&!isNaN(e)}},{key:"isEven",value:function(e){return this.isNumber(e)&&!this.isZero(e)&&e%2==0}},{key:"isOdd",value:function(e){return this.isNumber(e)&&!this.isZero(e)&&!this.isEven(e)}},{key:"isString",value:function(e){return"string"==typeof e||e instanceof String}},{key:"isFunction",value:function(e){return e instanceof Function}},{key:"isAsyncFunction",value:function(t){try{return"AsyncFunction"===Object.getPrototypeOf(t).constructor.name||e.isFunction(t)&&/^async/.test(t.toString())||e.isFunction(t().then)}catch(t){return!1}}},{key:"isPromise",value:function(e){return e instanceof Promise}},{key:"isObject",value:function(t){return e.exists(t)&&"object"===n(t)&&!(e.isBool(t)||e.isNumber(t)||e.isDate(t)||e.isArray(t)||e.isString(t)||e.isFunction(t))}},{key:"isObjectLiteral",value:function(t){return e.isObject(t)&&t.constructor==={}.constructor}},{key:"isTruthy",value:function(t){return!e.isFalsy(t)}},{key:"isFalsy",value:function(t){return e.isZero(t)||e.isFalse(t)||e.isNullOrEmpty(t)||isNaN(t)}}]),e}();function h(){var e;return(e="").concat.apply(e,arguments)}function v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t,n){return e.replace(new RegExp("\\{".concat(n,"\\}"),"g"),t&&t.toString?t.toString():t)}),e)}function p(e){return m(g(e))}function m(e){return y.exists(e)&&y.isFunction(e.replace)?e.replace(/^[\s\n]*/,""):e}function g(e){return y.exists(e)&&y.isFunction(e.replace)?e.replace(/[\s\n]*$/,""):e}var k,w=Object.freeze({__proto__:null,build:h,format:v,trim:p,trimStart:m,trimEnd:g,capitalize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e||"").charAt(0).toUpperCase()+(e||"").slice(1).toLowerCase()},mask:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_";return y.isFunction(t)?t(e):y.isString(t)&&e.split("").reduce((function(e,t){return e.replace(new RegExp(n),t)}),t)},unmask:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"_",r=new RegExp(n);return y.isFunction(t)?t(e):y.isString(t)&&e.split("").reduce((function(e,n,i){return!r.test(n)&&r.test(t.charAt(i))?e+n:e}),"")}}),b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";r(this,e),this._first=t||"",this._middle=n||"",this._last=i||""}return o(e,[{key:"equals",value:function(e){return y.exists(e)&&e.first===this.first&&e.middle===this.middle&&e.last===this.last}},{key:"toString",value:function(e){var t=this.first.charAt(0),n=this.middle.charAt(0),r=this.last.charAt(0);return y.isNullOrEmpty(e)?this.full:e.replace(/([FfMmLl])/g,"{$1}").replace("{F}",this.first).replace("{M}",this.middle).replace("{L}",this.last).replace("{f}",t).replace("{m}",n).replace("{l}",r)}},{key:"first",get:function(){return this._first}},{key:"middle",get:function(){return this._middle}},{key:"last",get:function(){return this._last}},{key:"full",get:function(){var e=y.isNullOrEmpty(this.middle)?"F L":"F M L";return p(this.toString(e).replace(/\s+/," "))}},{key:"initials",get:function(){var e=y.isNullOrEmpty(this.middle)?"f.l.":"f.m.l.";return p(this.toString(e).replace(/\s{2,}/,""))}}]),e}(),_=function(){function e(t){r(this,e),this._list=t,this._head=0}return o(e,[{key:"isEmpty",get:function(){return this.length<1}},{key:"index",get:function(){return this._head}},{key:"length",get:function(){return this._list.length}},{key:"current",get:function(){return this._list[this._head]}},{key:"next",get:function(){var e=this.length,t=this._head;return this._head=t++<e-1?t:0,this.current}},{key:"prev",get:function(){var e=this.length,t=this._head;return this._head=--t<0?e-1:t,this.current}},{key:"peekNext",get:function(){var e=this._head,t=this.length;return this._list[e+1<t?e+1:0]}},{key:"peekPrev",get:function(){var e=this._head,t=this.length;return this._list[e-1<0?t-1:e-1]}}]),e}(),S=function(){function e(t,n,i){if(r(this,e),n<1||n>12)throw new Error("Invalid month at Assert.DayPoint");if(i<1||i>A(n,t))throw new Error("Invalid date at DayPoint");this._value=arguments.length>=3?new Date(t,n-1,i):new Date,this._day=this._value.getDay(),this._date=i,this._month=n,this._year=t}return o(e,[{key:"add",value:function(e,t,n){function r(e,t,n){for(var r=e,i=t;i--;)r=r[n];return r}var i=Math.abs,o=i(e),a=i(n),s=i(t),u=n<0?"prevDay":"nextDay",c=t<0?"prevMonth":"nextMonth";return r(r(r(this,o,e<0?"prevYear":"nextYear"),s,c),a,u)}},{key:"isBefore",value:function(e){return!(this.isAfter(e)||this.equals(e))}},{key:"isAfter",value:function(e){var t=this._year,n=e.year,r=this._month,i=e.month;return t>n||t===n&&r>i||t===n&&r===i&&this._date>e.date}},{key:"equals",value:function(e){return this._year===e.year&&this._month===e.month&&this._date===e.date}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mm/dd/yyyy",t=/y{3,}/i.test(e)?this._year:this.shortYear,n=this._month,r=this._date,i="{0}",o=/m{2}/i.test(e)&&n<10?"0{1}":"{1}",a=/d{2}/i.test(e)&&r<10?"0{2}":"{2}",s=e.replace(/y+/gi,i).replace(/m+/gi,o).replace(/d+/gi,a);return v(s,t,n,r)}},{key:"toDate",value:function(){return this._value}},{key:"toJson",value:function(){return this._value.toJSON()}},{key:"value",get:function(){return this._value}},{key:"day",get:function(){return this._day}},{key:"date",get:function(){return this._date}},{key:"month",get:function(){return this._month}},{key:"year",get:function(){return this._year}},{key:"shortYear",get:function(){var e=this._year.toString();return parseInt(e.substr(e.length-2))}},{key:"isWeekday",get:function(){var e=this._day;return e>0&&e<6}},{key:"isWeekend",get:function(){return!this.isWeekday}},{key:"isLeapYear",get:function(){return x(this._year)}},{key:"nextDay",get:function(){return E(this,1,0,0)}},{key:"prevDay",get:function(){return E(this,-1,0,0)}},{key:"nextMonth",get:function(){return E(this,0,1,0)}},{key:"prevMonth",get:function(){return E(this,0,-1,0)}},{key:"nextYear",get:function(){return E(this,0,0,1)}},{key:"prevYear",get:function(){return E(this,0,0,-1)}},{key:"firstDayOfMonth",get:function(){return new e(this._year,this._month,1)}},{key:"lastDayOfMonth",get:function(){return new e(this._year,this._month,A(this._month,this._year))}}],[{key:"canParse",value:function(t){return y.isString(t)||y.isNumber(t)||y.isDate(t)?!isNaN(new Date(t).valueOf()):t instanceof e}},{key:"parse",value:function(t){if(t instanceof e)return t;var n=y.isString(t)?p(t).replace(/T\d{2}:\d{2}:\d{2}(.\d+)?Z/,""):t;if(/^\d{4}-\d{1,2}-\d{1,2}$/.test(n)){var r=n.split("-"),i=f(r,1)[0];r.push(i),r.shift(),n=r.join("/")}var o=new Date(n);if(!y.exists(n)||isNaN(o.valueOf()))throw new Error(v("Cannot parse value= {0}",n));return new e(o.getFullYear(),o.getMonth()+1,o.getDate())}},{key:"tryParse",value:function(t){return e.canParse(t)?e.parse(t):null}},{key:"assumeNow",value:function(t){k=e.parse(t)}},{key:"today",get:function(){return k||e.parse(new Date)}}]),e}();function A(e,t){return 2===e?x(t)?29:28:e<8&&y.isEven(e)||e>7&&y.isOdd(e)?30:31}function x(e){var t=e.toString().split(/\B/);return parseFloat(h(t[t.length-2],t[t.length-1]))%4==0}function E(e,t,n,r){var i=e.month,o=e.year,a=e.date,s=n,u=r,c=a+t,l=i+s,f=o+u;if(a+t>A(i,o)&&(c=1,l=i+s+1),a+t<1){var d=e.prevMonth;c=A(d.month,d.year),l=i+s-1}return l>12&&(l=1,f=o+u+1),l<1&&(l=12,f=o+u-1),new S(f,l,c)}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.pow(10,-t);return Math.round(parseFloat((e*n).toFixed(Math.abs(t))))/n}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=5*Math.pow(10,t-1);return C(e+n,t)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(0===e)return 0;var n=5*Math.pow(10,t-1);return C(e-n,t)}function K(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e<0?P(e,t):O(e,t)}function T(e){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return 0<t?e(--t,r,n+r):n}(e)}function D(e){for(var t=0,n=1,r=0;e>1;)r=t,t=n,n+=r,e--;return e<1?t:n}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=parseInt(e);return isNaN(n)?t:n}var j=Object.freeze({__proto__:null,random:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.random()*(t-e)+e},round:C,roundUp:P,roundDown:O,roundTowardZero:K,gcd:function e(t,n){return 0===n?Math.abs(t):e(n,t%n)},fib:T,fib2:D,fibArray:function(e){return Array(e).fill(0).map((function(){return T(--e)})).reverse()},fib2Array:function(e){return Array(e).fill(0).map((function(){return D(--e)})).reverse()},tryParseInt:I,tryParseFloat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=parseFloat(e);return isNaN(n)?t:n}}),N=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;if(r(this,e),!y.isNumber(t))throw new Error("Money requires valid numeric amount.");var i=K(t);this._cents=/\./.test(t)?parseFloat(t.toString().replace(/\d+\./,".")):0,this._dollars=i,this._currency=n||"$",this._value=t}return o(e,[{key:"add",value:function(t){return M(this,t),new e(this.value+t.value,this.currency)}},{key:"subtract",value:function(t){return M(this,t),new e(this.value-t.value,this.currency)}},{key:"multiply",value:function(t){if(!y.isNumber(t))throw new Error("Invalid factor ".concat(t));return new e(this.value*t,this.currency)}},{key:"divide",value:function(t){if(!y.isNumber(t))throw new Error("Invalid divisor ".concat(t));return new e(this.value/t,this.currency)}},{key:"equals",value:function(e){return this.isOfCurrency(e)&&this.value===e.value}},{key:"isGreaterThan",value:function(e){return M(this,e),this.value>e.value}},{key:"isLessThan",value:function(e){return M(this,e),this.value<e.value}},{key:"round",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;return new e(C(this.value,t),this.currency)}},{key:"roundDown",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;return new e(O(this.value,t),this.currency)}},{key:"roundUp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;return new e(P(this.value,t),this.currency)}},{key:"exchange",value:function(t,n){return new e(this.multiply(t).value,n)}},{key:"isOfCurrency",value:function(e){return this.currency===e.currency}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"d.c2",t=arguments.length>1?arguments[1]:void 0,n=/d(.)c(\d+)/.exec(e),r=f(n,3),i=r[1],o=r[2],a=t||{".":",",",":"."}[i],s=F(this.dollars,a||","),u=z(this.cents,I(o,2)),c="".concat(this.currency).concat(s).concat(i).concat(u);return this.value<0?"(".concat(c,")"):c}},{key:"cents",get:function(){return this._cents}},{key:"dollars",get:function(){return this._dollars}},{key:"currency",get:function(){return this._currency}},{key:"value",get:function(){return this._value}},{key:"nearestWhole",get:function(){return new e(C(this.value,0),this.currency)}},{key:"nearestDollar",get:function(){return this.nearestWhole}}],[{key:"zero",value:function(t){return new e(0,t)}},{key:"isMoney",value:function(t){return t instanceof e}},{key:"canParse",value:function(t){try{return e.parse(t),!0}catch(e){return!1}}},{key:"parse",value:function(t){if(y.isNumber(t))return new e(t);var n=t;if(/,\d{2}$/.test(t)){var r=t.split(","),i=r.pop(),o=r.join().replace(/\./g,",");n="".concat(o,".").concat(i)}var a=/(\(.*\))|(-)/.test(n),s=a?1:0,u=n.match(/[^\d.,-]/g),c=y.isArray(u)?u[s]:null,l=parseFloat(n.replace(/[^\d.]/g,""));return new e(a?-l:l,c)}},{key:"tryParse",value:function(t){return e.canParse(t)?e.parse(t):null}}]),e}();function M(e,t){if(!e.isOfCurrency(t))throw new Error("Invalid operation on non-conforming currencies. ".concat(e.currency," !== ").concat(t.currency))}function F(e,t){if(0===e)return"0";var n=e.toString().replace(/[^\d]/,"").split(/\B/),r=0;return n.reverse().reduce((function(e,n){return r>0&&!(r%3)&&(e.push(t),r=0),e.push(n),r++,e}),[]).reverse().join("").replace(/[^\d]$/,"")}function z(e,t){var n=e.toString().replace(/[^\d]|0\./g,""),r="0".repeat(t);return"".concat(n).concat(r).slice(0,t)}var B=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(r(this,e),!y.isNumber(t)||!y.isNumber(n))throw new Error("Coord requires numeric x and y values");this._x=t,this._y=n}return o(e,[{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"subtract",value:function(t){return new e(this.x-t.x,this.y-t.y)}},{key:"multiply",value:function(t){return new e(this.x*t.x,this.y*t.y)}},{key:"divide",value:function(t){return new e(this.x/t.x,this.y/t.y)}},{key:"round",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new e(C(this.x,t),C(this.y,t))}},{key:"toString",value:function(){return"(".concat(this.x,",").concat(this.y,")")}},{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}},{key:"value",get:function(){return{x:this.x,y:this.y}}},{key:"half",get:function(){return this.divide(new e(2,2))}},{key:"abs",get:function(){return new e(Math.abs(this.x),Math.abs(this.y))}}],[{key:"canParse",value:function(t){return y.isArray(t)?!(isNaN(t[0])||isNaN(t[1])):y.isObjectLiteral(t)&&"x"in t&&"y"in t?!(isNaN(t.x)||isNaN(t.y)):t instanceof e}},{key:"parse",value:function(t){return y.exists(t)?t instanceof e?t:y.isArray(t)?new e(t[0],t[1]):y.isObjectLiteral(t)&&y.exists(t.x)&&y.exists(t.y)?new e(t.x,t.y):null:null}},{key:"tryParse",value:function(t){return e.canParse(t)?e.parse(t):null}}]),e}(),R=function(e){a(n,B);var t=l(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return r(this,n),(e=t.call(this,i,o))._lengthSquared=Math.pow(i,2)+Math.pow(o,2),e._magnitude=Math.sqrt(e._lengthSquared),e._unitNormalX=0===i&&0===o?0:i/e._magnitude,e._unitNormalY=0===i&&0===o?0:o/e._magnitude,e}return o(n,[{key:"equals",value:function(e){return e instanceof n&&this.x===e.x&&this.y===e.y}},{key:"add",value:function(e){return e instanceof n?new n(this.x+e.x,this.y+e.y):null}},{key:"dot",value:function(e){return e instanceof n?this.x*e.x+this.y*e.y:null}},{key:"perpendicularAtTo",value:function(e){if(!(e instanceof n))return null;var t=e.add(this.projectionOfOnto(e).invert);return new n(t.x,t.y)}},{key:"projectionOfOnto",value:function(e){if(!(e instanceof n))return null;var t=e.normal.scale(this.dot(e.normal));return new n(t.x,t.y)}},{key:"scale",value:function(e){return new n(this.x*e,this.y*e)}},{key:"unitNormalDot",value:function(e){return e instanceof n?this.normal.x*e.normal.x+this.normal.y*e.normal.y:null}},{key:"reflect",value:function(e){if(!(e instanceof n))return null;if(e.isZero)return this;var t=e.normal;return this.add(t.scale(2*t.dot(this)).invert)}},{key:"round",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new n(C(this.x,e),C(this.y,e))}},{key:"magnitude",get:function(){return this._magnitude}},{key:"isZero",get:function(){return 0===this.x&&0===this.y}},{key:"normal",get:function(){return new n(this._unitNormalX,this._unitNormalY)}},{key:"invert",get:function(){return new n(-this.x,-this.y)}},{key:"norm",get:function(){return new n(Math.abs(this.x),Math.abs(this.y))}},{key:"perpendicular",get:function(){return new n(-this.y,this.x)}}]),n}(),L=function(e){a(n,B);var t=l(n);function n(e,i){return r(this,n),t.call(this,e,i)}return o(n,[{key:"isAbove",value:function(e){return this.y<e.y}},{key:"isBelow",value:function(e){return this.y>e.y}},{key:"isLeftOf",value:function(e){return this.x<e.x}},{key:"isRightOf",value:function(e){return this.x>e.x}},{key:"distanceFrom",value:function(e){return new R(this.x-e.x,this.y-e.y)}},{key:"distanceTo",value:function(e){return this.distanceFrom(e).invert}}],[{key:"canParse",value:function(e){return e instanceof n||B.canParse(e)}},{key:"parse",value:function(e){if(e instanceof n)return e;var t=B.parse(e);return new n(t.x,t.y)}},{key:"tryParse",value:function(e){return n.canParse(e)?n.parse(e):null}}]),n}(),$=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r(this,e),this.origin=new L(t,n),this.dimensions=new B(i,o),this.diagonal=L.parse(this.origin.add(this.dimensions)),this.center=this.diagonal.half}return o(e,[{key:"contains",value:function(e){return this.origin.isAbove(e)&&this.origin.isLeftOf(e)&&this.diagonal.isRightOf(e)&&this.diagonal.isBelow(e)}},{key:"aspectToFit",value:function(t){var n=this.dimensions,r=t.dimensions,i=r.x,o=r.y,a=n.x,s=n.y;return a>s&&0!==a?(s*=i/a,a=i,s>o&&(a*=(s=o)/n.y)):s>o&&(a*=o/s,s=o),new e(this.origin.x,this.origin.y,a,s)}}]),e}();function Y(){return Math.random().toString().substr(2)}function U(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()}var J=Object.freeze({__proto__:null,uid:Y,uuid:U,suid:function(){return Symbol(Y())},suuid:function(){return Symbol(U())}}),q=function(){function e(){if(r(this,e),this.constructor===e)throw new Error("Cannot instantiate abstract class: AbstractSpecification")}return o(e,[{key:"and",value:function(e){return new W(this,e)}},{key:"or",value:function(e){return new X(this,e)}},{key:"xor",value:function(e){return new Z(this,e)}},{key:"not",value:function(e){return new H(this,e)}},{key:"isSatisfiedBy",value:function(){throw new Error("Abstract method must be implemented.")}}]),e}(),W=function(e){a(n,q);var t=l(n);function n(e,i){var o;return r(this,n),(o=t.call(this))._specificationA=e,o._specificationB=i,o}return o(n,[{key:"isSatisfiedBy",value:function(e){return this._specificationA.isSatisfiedBy(e)&&this._specificationB.isSatisfiedBy(e)}}]),n}(),X=function(e){a(n,q);var t=l(n);function n(e,i){var o;return r(this,n),(o=t.call(this))._specificationA=e,o._specificationB=i,o}return o(n,[{key:"isSatisfiedBy",value:function(e){return this._specificationA.isSatisfiedBy(e)||this._specificationB.isSatisfiedBy(e)}}]),n}(),Z=function(e){a(n,q);var t=l(n);function n(e,i){var o;return r(this,n),(o=t.call(this))._specificationA=e,o._specificationB=i,o}return o(n,[{key:"isSatisfiedBy",value:function(e){return!this._specificationA.isSatisfiedBy(e)!=!this._specificationB.isSatisfiedBy(e)}}]),n}(),H=function(e){a(n,q);var t=l(n);function n(e){var i;return r(this,n),(i=t.call(this))._specification=e,i}return o(n,[{key:"isSatisfiedBy",value:function(e){return!this._specification.isSatisfiedBy(e)}}]),n}(),Q=(function(e){a(n,q);var t=l(n);function n(){return r(this,n),t.apply(this,arguments)}o(n,[{key:"isSatisfiedBy",value:function(){return!0}}])}(),function(e){a(n,q);var t=l(n);function n(){return r(this,n),t.apply(this,arguments)}o(n,[{key:"isSatisfiedBy",value:function(){return!1}}])}(),function(){function e(){if(r(this,e),this.constructor===e)throw new Error("Cannot instantiate abstract class.")}return o(e,[{key:"execute",value:function(){throw new Error("Abstract method must be implemented.")}}]),e}()),G=Object.freeze({__proto__:null,pattern:function(e){return e.toString().replace(/(^\/)|(\/$)/g,"").replace(/\\/g,"\\")},escape:function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},alpha:/^[A-z]+$/,alphaNumeric:/^[A-z0-9]+$/,base64:/^[A-z0-9=]+$/,dataUrl:/^\s*data:([a-z]+\/[a-z0-9+-]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=._~:@/?%\s-]*\s*$/i,email:/^\w+([.\w-]+)?@\w+([.\w-]+)?\.[A-Za-z0-9]{2,}$/,empty:/^$/,numeric:/^-?[0-9]+$/,script:/(<script[A-z0-9\n\s\t\r.={([\])}'",;!&|$/#:<>*?+\u0000-\u0037\u00C2\u00A0\u2122-]*?<\/script>)/,uid:/^\d{14,}$/i,url:/^(https?:\/\/)?[^{}\\:]+\.[A-z0-9]{2,12}(\/[^?\s]+)*\/?(\?([^=?#]+=[^=?#]*(&[^=?#]+=[^=?#]*)*(#.*)?)?)?$/,uuid:/^[{(]?[0-9A-F]{8}[-]?([0-9A-F]{4}[-]?){3}[0-9A-F]{12}[)}]?$/i}),V=function(){function e(t){r(this,e),this._milliseconds=t}return o(e,[{key:"onInterval",value:function(e){return this.clear(),this._didInterval=e,this}},{key:"start",value:function(){var e=this;return this.clear(),this._intervalId=setInterval((function(){e._didInterval()}),this._milliseconds),this}},{key:"clear",value:function(){return clearInterval(this._intervalId),this._intervalId=null,this}},{key:"isRunning",get:function(){return y.exists(this._intervalId)}}]),e}(),ee=function(){function e(t){r(this,e),this._milliseconds=t}return o(e,[{key:"onTimeout",value:function(e){return this.clear(),this._didTimeout=e,this}},{key:"start",value:function(){var e=this;return this.clear(),this._timeoutId=setTimeout((function(){e._didTimeout()}),this._milliseconds),this}},{key:"clear",value:function(){return clearTimeout(this._timeoutId),this._timeoutId=null,this}},{key:"isRunning",get:function(){return y.exists(this._timeoutId)}}]),e}();t.AbstractSpecification=q,t.AbstractStrategy=Q,t.Assert=y,t.Coord=B,t.DayPoint=S,t.Interval=V,t.Money=N,t.Name=b,t.Point=L,t.Rectangle=$,t.Rolodex=_,t.Timeout=ee,t.Vector=R,t.debounce=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=r&&!n,u=function(){n=null,r||e.apply(void 0,o)};clearTimeout(n),n=setTimeout(u,t),s&&e.apply(void 0,o)}},t.deduplicate=function(e){return e.reduce((function(e,t){return e.includes(t)||e.push(t),e}),[])},t.identity=J,t.math=j,t.nextTick=function(e){return setTimeout(e,0)},t.regex=G,t.string=w,t.wait=function(e){return new Promise((function(t){return setTimeout(t,e)}))}})),Cookie=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"serialize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultParams;try{if(dist.Assert.isUndefined(e))throw new Error;var n=Object.assign(defaultParams,t),r=n.name,i=n.expires,o=n.path,a=n.domain,s=n.secure,u=kvPair(r,e),c=dist.DayPoint.canParse(i)?kvPair("; expires",dist.DayPoint.parse(i).toDate().toGMTString()):"",l=o?kvPair("; path",o.split("/").map((function(e){return encodeURIComponent(e)})).join("/")):"",f=a?kvPair("; domain",encodeURIComponent(a)):"",d=s?"; secure":"";return u+c+l+f+d}catch(t){throw new Error(dist.string.format("Cannot serialize {0}",e))}}},{key:"deserialize",value:function(e){try{return _read(e)[1]}catch(t){throw new Error(dist.string.format("Cannot deserialize {0}",e))}}},{key:"read",value:function(e){try{var t=_slicedToArray(_read(e),2);return{name:t[0],value:t[1]}}catch(t){throw new Error(dist.string.format("Cannot read {0}",e))}}}]),e}(),defaultParams={name:dist.identity.uid(),expires:dist.DayPoint.today.nextYear.toDate(),path:"/",domain:null,secure:!1},kvPair=function(e,t){return"".concat(e,"=").concat(t)},_read=function(e){return/;/.test(e)?e.substring(0,e.search(";")).split("="):e.split("=")},Device=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"orientation",get:function(){var t=window.screen,n=(t.orientation||{}).type||t.mozOrientation||t.msOrientation,r=window.orientation;return n===e.landscapePrimary||90===r?e.landscapePrimary:n===e.landscapeSecondary||-90===r?e.landscapeSecondary:n===e.portraitPrimary||0===r?e.portraitPrimary:n===e.portraitSecondary||180===r?e.portraitSecondary:void 0}},{key:"landscapePrimary",get:function(){return"landscape-primary"}},{key:"landscapeSecondary",get:function(){return"landscape-secondary"}},{key:"portraitPrimary",get:function(){return"portrait-primary"}},{key:"portraitSecondary",get:function(){return"portrait-secondary"}},{key:"isMobile",get:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(window.navigator.userAgent)}}]),e}(),_onPreventScroll=new Set,_onResumeScroll=new Set,Document=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"preventScroll",value:function(){try{_onPreventScroll.forEach((function(e){return e()}))}catch(e){}e.position=document.body.style.position,e.top=document.body.style.top,e.left=document.body.style.left,e.width=document.body.style.width,e.height=document.body.style.height,e.documentWidth=document.documentElement.style.width,e.documentHeight=document.documentElement.style.height,e.overflowY=document.documentElement.style.overflowY,e.scrollX=window.scrollX||window.pageXOffset,e.scrollY=window.scrollY||window.pageYOffset;var t=e.scrollbarWidth;document.body.style.position="fixed",document.body.style.left="-".concat(e.scrollX,"px"),document.body.style.top="calc(-".concat(e.scrollY,"px - ").concat(window.getComputedStyle(document.body)["padding-top"]," - ").concat(window.getComputedStyle(document.body)["margin-top"],")"),document.body.style.width="calc(100vw - ".concat(t,"px - ").concat(window.getComputedStyle(document.body)["padding-left"]," - ").concat(window.getComputedStyle(document.body)["padding-right"]," - ").concat(window.getComputedStyle(document.body)["margin-left"]," - ").concat(window.getComputedStyle(document.body)["margin-right"],")"),document.body.style.height="calc(100% + 1px)",document.documentElement.style.width="100wh",document.documentElement.style.height="100vh",document.documentElement.style.overflowY=t&&"scroll"}},{key:"resumeScroll",value:function(){try{_onResumeScroll.forEach((function(e){return e()}))}catch(e){}document.body.style.position=e.position,document.body.style.top=e.top,document.body.style.left=e.left,document.body.style.width=e.width,document.body.style.height=e.height,document.documentElement.style.width=e.documentWidth,document.documentElement.style.height=e.documentHeight,document.documentElement.style.overflowY=e.overflowY,window.scrollTo(e.scrollX,e.scrollY),e.position=null,e.top=null,e.left=null,e.width=null,e.height=null,e.documentWidth=null,e.documentHeight=null,e.overflowY=null,e.scrollX=null,e.scrollY=null}},{key:"onPreventScroll",value:function(e){_onPreventScroll.add(e)}},{key:"onResumeScroll",value:function(e){_onResumeScroll.add(e)}},{key:"scrollbarWidth",get:function(){return window.innerWidth-document.documentElement.clientWidth}},{key:"isScrollPrevented",get:function(){return dist.Assert.exists(e.scrollY)}}]),e}();function encodeBase64(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!dist.Assert.isString(e))throw new Error("Cannot encode non-string values.");var n=window.btoa(e);return t?n.replace(/=/g,""):n}function decodeBase64(e){if(!dist.Assert.isString(e))throw new Error("Cannot encode non-string values.");return window.atob(e)}function encodeUtf8(e){if(!dist.Assert.isString(e))throw new Error("Cannot encode non-string values.");return decodeURIComponent(encodeURIComponent(e))}function decodeUtf8(e){if(!dist.Assert.isString(e))throw new Error("Cannot decode non-string values.");return decodeURIComponent(encodeURIComponent(e))}var Json=function(){function Json(){_classCallCheck(this,Json)}return _createClass(Json,null,[{key:"serialize",value:function(e){if(!dist.Assert.isFunction(e)){if(!dist.Assert.exists(e))return e;if(!dist.Assert.isArray(e)&&!dist.Assert.isObject(e))return e.toString();var t=dist.Assert.isArray(e)?"[{0}]":"{{0}}",n=[];return Object.keys(e).forEach((function(t){var r=e[t];if(!dist.Assert.isUndefined(r)){var i=dist.Assert.isNumber(r)?r:dist.Assert.isDate(r)?'"'.concat(dist.DayPoint.parse(r).toJson(),'"'):dist.Assert.isString(r)?'"'.concat(serializeString(r),'"'):Json.serialize(r);n[n.length]=(dist.Assert.isObject(e)&&!dist.Assert.isArray(e)?'"'.concat(t,'"')+":":"")+i}})),dist.string.format(t,n)}}},{key:"deserialize",value:function(e){return/function|(=$)/i.test(e)?e:Json.deserialize_unsafe(e)}},{key:"deserialize_unsafe",value:function deserialize_unsafe(value){try{var result=dist.Assert.isString(value)?eval("(".concat(deserializeString(value),")")):value;return dist.Assert.exists(result)?dist.Assert.isNullOrEmpty(result.tagName)&&(dist.Assert.isObject(result)||dist.Assert.isArray(result))?(Object.keys(result).forEach((function(e){var t=result[e];(dist.Assert.isObject(t)||dist.Assert.isArray(t))&&(result[e]=Json.deserialize(t)),/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/.test(t)&&dist.DayPoint.canParse(t)&&(result[e]=dist.DayPoint.parse(t).toDate())})),result):/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/.test(result)?dist.DayPoint.parse(result).toDate():result:result}catch(e){throw new Error(dist.string.format("Cannot deserialize {0}",value))}}},{key:"encode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return encodeBase64(Json.serialize(e),t)}catch(t){throw new Error(dist.string.format("Cannot encode {0}",e))}}},{key:"decode",value:function(e){try{return Json.deserialize(decodeBase64(e))}catch(t){throw new Error(dist.string.format("Cannot decode {0}",e))}}}]),Json}();function serializeString(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\//g,"/").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")}function deserializeString(e){return e.replace(/\\\//g,"/").replace(/\\\\f/g,"\\f").replace(/\\\\n/g,"\\n").replace(/\\\\r/g,"\\r").replace(/\\\\t/g,"\\t")}var QueryString=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"serialize",value:function(e){try{var t="";return Object.keys(e).forEach((function(n){var r=e[n],i=dist.Assert.isDate(r)?dist.DayPoint.parse(r).toJson():r;t+=dist.string.format("&{0}={1}",encodeURIComponent(n),encodeURIComponent(Json.serialize(i)))})),t.replace(/^&/,"")}catch(t){throw new Error(dist.string.format("Cannot serialize {0}",e))}}},{key:"deserialize",value:function(e){if(/\??\w+=\w+/.test(e)){var t=e.replace(/.*\?/,"").split("&"),n={};return t.forEach((function(e){var t=_slicedToArray(e.split("="),2),r=t[0],i=t[1],o=/^null$|^true$|^false$|^\d+(\.\d+?)?$|^\[.*]$|^{.*}$/.test(i)?i:'"'.concat(i,'"');n[decodeURIComponent(r)]=Json.deserialize(decodeURIComponent(o))})),n}}}]),e}(),Dto=function(){function e(t,n){_classCallCheck(this,e),this.value=t||{},this.name=n}return _createClass(e,[{key:"read",value:function(e){return this.value[e]}},{key:"remove",value:function(e){return dist.Assert.exists(e)&&delete this.value[e],this}},{key:"write",value:function(e,t){return this.value[e]=t,this}},{key:"save",value:function(){return window.localStorage.setItem(this.name,Json.encode(this.value,!0)),this}},{key:"saveAs",value:function(e){return this.name=e,this.save()}},{key:"delete",value:function(){return window.localStorage.removeItem(this.name),this}},{key:"toFormData",value:function(){var e=this.value,t=new window.FormData;return Object.keys(e).forEach((function(n){return t.append(n,e[n])})),t}},{key:"toJson",value:function(){return Json.serialize(this.value)}},{key:"toQueryString",value:function(){return QueryString.serialize(this.value)}},{key:"name",get:function(){return this._name},set:function(e){this._name=e}}],[{key:"parseFormData",value:function(t){var n,r={},i=_createForOfIteratorHelper(t.entries());try{for(i.s();!(n=i.n()).done;){var o=_slicedToArray(n.value,2),a=o[0],s=o[1];r[a]=s}}catch(e){i.e(e)}finally{i.f()}return new e(r)}},{key:"parseJson",value:function(t){return new e(Json.deserialize(t))}},{key:"parseQueryString",value:function(t){return new e(QueryString.deserialize(t))}},{key:"load",value:function(t){return new e(Json.decode(window.localStorage.getItem(t)),t)}}]),e}(),Event=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"mute",value:function(e){return!!dist.Assert.exists(e)&&(dist.Assert.isFunction(e.preventDefault)&&e.preventDefault(),dist.Assert.isFunction(e.stopPropagation)&&e.stopPropagation(),dist.Assert.isFunction(e.stopImmediatePropagation)&&e.stopImmediatePropagation(),dist.Assert.exists(e.cancelBubble)&&(e.cancelBubble=!0),!1)}}]),e}(),readData=function(e){return new window.FormData(e)},read=function(e){var t={};try{readData(e).forEach((function(e,n){var r=t[n];dist.Assert.isArray(r)?t[n].push(e):dist.Assert.exists(r)?t[n]=[t[n],e]:t[n]=e}))}catch(n){_toConsumableArray(e.elements).forEach((function(e){var n=e.name,r=e.type,i=e.value,o=e.files;if("file"===r)t[n]=o[0];else if("checkbox"===r||"radio"===r)e.checked&&(t[n]=i);else if(e.multiple){var a=[];e.querySelectorAll("option").forEach((function(e){return e.selected&&a.push(e.value)})),t[n]=a.length<2?a[0]:a}else t[n]=i}))}return t},readJson=function(e){return JSON.stringify(read(e))},write=function(e,t){e.querySelectorAll("input, textarea").forEach((function(e){dist.Assert.exists(t[e.name])&&("checkbox"===e.type||"radio"===e.type?e.checked=t[e.name]===e.value:e.value=t[e.name])})),e.querySelectorAll("select").forEach((function(e){dist.Assert.isArray(t[e.name])?_toConsumableArray(e.options).forEach((function(n){n.selected=t[e.name].indexOf(n.value)>=0})):dist.Assert.exists(t[e.name])&&(e.value=t[e.name])}))},index={read:read,readData:readData,readJson:readJson,write:write},Key=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,e),this.key=t,this.msKey=n||t,this.altKey=r.altKey||!1,this.ctrlKey=r.ctrlKey||!1,this.metaKey=r.metaKey||!1,this.shiftKey=r.shiftKey||!1}return _createClass(e,[{key:"equals",value:function(t){return t instanceof e&&this.altKey===t.altKey&&this.ctrlKey===t.ctrlKey&&this.metaKey===t.metaKey&&this.shiftKey===t.shiftKey&&(this.key===t.key||this.msKey===t.msKey)}},{key:"didFire",value:function(t){var n=t.code,r=t.key,i=t.altKey,o=t.ctrlKey,a=t.metaKey,s=t.shiftKey,u="Dead"===r?n:r;return t&&("ANY"===this.key||this.equals(new e(u,u,{altKey:i,ctrlKey:o,metaKey:a,shiftKey:s})))}},{key:"alt",get:function(){return new e(this.key,this.msKey,{altKey:!0,ctrlKey:this.ctrlKey,metaKey:this.metaKey,shiftKey:this.shiftKey})}},{key:"ctrl",get:function(){return new e(this.key,this.msKey,{altKey:this.altKey,ctrlKey:!0,metaKey:this.metaKey,shiftKey:this.shiftKey})}},{key:"meta",get:function(){return new e(this.key,this.msKey,{altKey:this.altKey,ctrlKey:this.ctrlKey,metaKey:!0,shiftKey:this.shiftKey})}},{key:"shift",get:function(){return new e(this.key,this.msKey,{altKey:this.altKey,ctrlKey:this.ctrlKey,metaKey:this.metaKey,shiftKey:!0})}}],[{key:"press",get:function(){return"keypress"}},{key:"down",get:function(){return"keydown"}},{key:"up",get:function(){return"keyup"}},{key:"any",get:function(){return new e("ANY")}},{key:"esc",get:function(){return new e("Escape","Esc")}},{key:"enter",get:function(){return new e("Enter")}},{key:"space",get:function(){return new e(" ","Spacebar")}},{key:"tab",get:function(){return new e("Tab")}},{key:"left",get:function(){return new e("ArrowLeft","Left")}},{key:"right",get:function(){return new e("ArrowRight","Right")}}]),e}(),Keyboard=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"on",value:function(e,t,n,r){var i=function(e){return t.didFire(e)?n(e,t):null};return window.addEventListener(e,i,r),{unsubscribe:function(){window.removeEventListener(e,i)}}}},{key:"onKeyPress",value:function(t,n,r){return e.on(Key.press,t,n,r)}},{key:"onKeyDown",value:function(t,n,r){return e.on(Key.down,t,n,r)}},{key:"onKeyUp",value:function(t,n,r){return e.on(Key.up,t,n,r)}}]),e}(),Swipe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,e),this.didTouchStart=this.didTouchStart.bind(this),this.didTouchEnd=this.didTouchEnd.bind(this),this.didTouchMove=this.didTouchMove.bind(this),t.addEventListener("touchstart",this.didTouchStart,{capture:!1,passive:!0}),t.addEventListener("touchend",this.didTouchEnd,{capture:!1,passive:!0}),t.addEventListener("touchmove",this.didTouchMove,{capture:!1,passive:!0}),this.element=t,this.tolerance=n,this.didSwipeLeft=function(){},this.didSwipeRight=function(){},this.didMove=function(){}}return _createClass(e,[{key:"onLeft",value:function(e){return this.didSwipeLeft=e,this}},{key:"onRight",value:function(e){return this.didSwipeRight=e,this}},{key:"onMove",value:function(e){return this.didMove=e,this}},{key:"destroy",value:function(){var e=this.element;return e.removeEventListener("touchstart",this.didTouchStart,!1),e.removeEventListener("touchend",this.didTouchEnd,!1),e.removeEventListener("touchmove",this.didTouchMove,!1),this}},{key:"didTouchStart",value:function(e){var t=_slicedToArray(e.touches,1)[0];this.touchStartPoint=new dist.Point(t.pageX,t.pageY)}},{key:"didTouchEnd",value:function(e){var t=_slicedToArray(e.changedTouches,1)[0],n=this.touchStartPoint,r=new dist.Point(t.pageX,t.pageY);r.isLeftOf(n)&&Math.abs(r.distanceFrom(n).x)>this.tolerance&&this.didSwipeLeft(e),r.isRightOf(n)&&Math.abs(r.distanceFrom(n).x)>this.tolerance&&this.didSwipeRight(e)}},{key:"didTouchMove",value:function(e){var t=_slicedToArray(e.touches,1)[0],n=this.touchStartPoint,r=new dist.Point(t.pageX,t.pageY);this.didMove({distance:r.distanceFrom(n),up:r.isAbove(n),down:r.isBelow(n),left:r.isLeftOf(n),right:r.isRightOf(n)})}}]),e}();exports.Cookie=Cookie,exports.Device=Device,exports.Document=Document,exports.Dto=Dto,exports.Event=Event,exports.Key=Key,exports.Keyboard=Keyboard,exports.Swipe=Swipe,exports.decodeBase64=decodeBase64,exports.decodeUtf8=decodeUtf8,exports.encodeBase64=encodeBase64,exports.encodeUtf8=encodeUtf8,exports.form=index,Object.defineProperty(exports,"__esModule",{value:!0})}));
